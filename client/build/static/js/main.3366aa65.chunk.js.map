{"version":3,"sources":["actions/restaurants_actions.js","reducers/restaurantsReducer.js","reducers/restaurantsFilterReducer.js","reducers/rootReducer.js","store/index.js","components/RestaurantsForm.js","components/RestaurantsFilterForm.js","components/RestaurantsContainer.js","components/App.js","index.js"],"names":["actionTypes","fetchRestaurants","val","url","dispatch","type","axios","get","then","response","restaurants","data","payload","catch","error","fetchRestaurantsFailure","message","initialState","loading","restaurantsReducer","state","action","restaurantName","restaurantsFilterReducer","rootReducer","combineReducers","restaurantsFilter","store","createStore","composeWithDevTools","applyMiddleware","thunk","RestaurantsForm","useDispatch","id","data-test","onSubmit","e","preventDefault","city","target","value","restaurantSearch","htmlFor","className","name","placeholder","restaurantFilter","filterRestaurantsRequest","Fragment","preventSubmit","onChange","RestaurantsContainer","restaurantsData","useSelector","RestaurantsFilterForm","undefined","filter","restaurant","rName","toLowerCase","includes","map","key","Array","price","i","src","alt","image_url","address","phone","onClick","window","open","reserve_url","App","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3366aa65.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const actionTypes = {\r\n  FETCH_RESTAURANTS_REQUEST: 'FETCH_RESTAURANTS_REQUEST',\r\n  FETCH_RESTAURANTS_SUCCESS: 'FETCH_RESTAURANTS_SUCCESS',\r\n  FETCH_RESTAURANTS_FAILURE: 'FETCH_RESTAURANTS_FAILURE',\r\n  FILTER_RESTAURANT: 'FILTER_RESTAURANT'\r\n};\r\n\r\n\r\n/***********  Thunk actions for API call ***************/\r\n\r\nexport const fetchRestaurantsRequest = () => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_REQUEST\r\n  }\r\n}\r\n\r\nexport const fetchRestaurantsSuccess = (restaurants) => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_SUCCESS,\r\n    payload: restaurants\r\n  }\r\n}\r\n\r\nexport const fetchRestaurantsFailure = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_FAILURE,\r\n    payload: error\r\n  }\r\n}\r\n\r\nexport function fetchRestaurants(val){\r\n  var url = `https://opentable.herokuapp.com/api/restaurants?city=${val}`;\r\n  // Returns a function so that it doesn't have to be a pure function allowing asynconisity\r\n  return (dispatch) => {\r\n    // Sets loading screen until pass or failure is determined\r\n    dispatch(fetchRestaurantsRequest());\r\n    // Runs data call\r\n    return axios.get(url)\r\n      .then(response => {\r\n        dispatch(fetchRestaurantsSuccess(response.data))\r\n        })\r\n      .catch(error =>  fetchRestaurantsFailure(error.message));\r\n  }\r\n}\r\n\r\n\r\n/***********  Restaurant filter actions  ***************/\r\n\r\nexport const filterRestaurantsRequest = (restaurantFilter) => {\r\n  return {\r\n    type: actionTypes.FILTER_RESTAURANT,\r\n    payload: restaurantFilter\r\n  }\r\n}","import {actionTypes} from '../actions/restaurants_actions'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  restaurants: [],\r\n  error: ''\r\n}\r\n\r\nconst restaurantsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_RESTAURANTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case actionTypes.FETCH_RESTAURANTS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        restaurants: action.payload,\r\n        error: ''\r\n      }\r\n    case actionTypes.FETCH_RESTAURANTS_FAILURE:\r\n      return {\r\n        loading: false,\r\n        restaurants: [],\r\n        error: action.payload\r\n      }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport default restaurantsReducer","import {actionTypes} from '../actions/restaurants_actions'\r\n\r\nconst initialState = {\r\n  restaurantName: '' ,\r\n}\r\n\r\nconst restaurantsFilterReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FILTER_RESTAURANT:\r\n      return {\r\n        restaurantName: action.payload\r\n      }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport default restaurantsFilterReducer","import { combineReducers } from 'redux';\r\nimport restaurantsReducer from './restaurantsReducer';\r\nimport restaurantsFilterReducer from './restaurantsFilterReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  restaurants: restaurantsReducer,\r\n  restaurantsFilter: restaurantsFilterReducer\r\n})\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from '../reducers/rootReducer'\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store\r\n","import React from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport { fetchRestaurants } from '../actions/restaurants_actions';\r\n\r\nfunction RestaurantsForm () {;\r\n  const dispatch = useDispatch();\r\n\r\n  let restaurantSearch = (e) =>{\r\n    e.preventDefault();\r\n    let city = e.target.city.value;\r\n    if(city !== ''){\r\n      dispatch(fetchRestaurants(city));;\r\n    }\r\n  }\r\n\r\n  return (\r\n      <form id='restaurantSearchForm' data-test=\"restaurant-search-form\" onSubmit={(e) => restaurantSearch(e)}>\r\n        <label  htmlFor=\"city\" className=\"visuallyhidden\">Search: </label>\r\n        <input  type=\"text\" name=\"city\" id=\"city\"  placeholder=\"Enter city\" data-test=\"restaurant-search-form-input\" />\r\n        <button type=\"submit\" data-test=\"restaurant-search-form-button\">Search</button>\r\n      </form>\r\n        )\r\n}\r\n\r\nexport default RestaurantsForm","import React from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport { filterRestaurantsRequest } from '../actions/restaurants_actions';\r\n\r\nfunction RestaurantsForm () {;\r\n  const dispatch = useDispatch();\r\n\r\n  let preventSubmit = (e) => {\r\n    e.preventDefault();\r\n  }\r\n\r\n  let restaurantFilter = (e) =>{\r\n    e.preventDefault();\r\n    let restaurantName = e.target.value;\r\n    dispatch(filterRestaurantsRequest(restaurantName));\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <p>Filter Results:</p>\r\n      <div id=\"restaurantFilter\" data-test=\"restaurant-filter\"  onSubmit={(e) => preventSubmit(e)}>\r\n        <form>\r\n          <label htmlFor=\"filter\" className=\"visuallyhidden\">Filter Results:</label>\r\n          <input id=\"filter\" name=\"filter\" data-test=\"restaurant-filter-input\"  type=\"text\" placeholder=\"Enter restaurant name\" onChange={(e) => restaurantFilter(e)}/>\r\n        </form>\r\n      </div>\r\n    </React.Fragment>\r\n  )\r\n}\r\n\r\nexport default RestaurantsForm","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport RestaurantsFilterForm from './RestaurantsFilterForm';\r\n\r\n\r\nfunction RestaurantsContainer () {\r\nconst restaurantsData = useSelector(state => state.restaurants);\r\nconst restaurantName = useSelector(state => state.restaurantsFilter.restaurantName);\r\n\r\n  if ( restaurantsData.loading ) {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n        <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <RestaurantsFilterForm />\r\n          </div>\r\n        </div>\r\n        <p>Loading</p>\r\n      </div>\r\n    )\r\n  }else if ( restaurantsData.error !== \"\" ) {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n        <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <RestaurantsFilterForm />\r\n          </div>\r\n        </div>\r\n        {/*<p>{restaurantsData.error}</p>*/}\r\n        <p>Service encountered an error try again later</p>\r\n      </div>\r\n    )\r\n  }else {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n      <React.Fragment>\r\n      <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <RestaurantsFilterForm  />\r\n          </div>\r\n        </div>\r\n        <section id=\"restaurantContainer\" data-test=\"restaurant-container\">\r\n          \r\n          {restaurantsData && restaurantsData.restaurants.restaurants !== undefined &&\r\n        \r\n        restaurantsData.restaurants.restaurants.filter((restaurant) => {\r\n          let rName = restaurantName.toLowerCase();\r\n          return restaurant.name.toLowerCase().includes(rName)\r\n        }).map((restaurants) => (\r\n            <div className=\"restaurantItem\" key={restaurants.id}>\r\n              <div className=\"priceBox\">\r\n              {[...Array(restaurants.price)].map((e, i) => {\r\n                return <img key={i} src=\"./assets/images/dollarSignActive.svg\" alt=\"\"/>\r\n              })}\r\n              </div>\r\n            <img src={restaurants.image_url} alt=\"\"/>\r\n              <div className=\"info\">\r\n                <h3>{restaurants.name}</h3> \r\n                <p>Address: {restaurants.address}</p>\r\n                <p>Phone: {restaurants.phone}</p>\r\n                \r\n                <button onClick={ () => window.open(`${restaurants.reserve_url}`,'_blank') }>Reserve</button>\r\n              </div>\r\n            </div>\r\n            ))}\r\n            \r\n        </section>\r\n      </React.Fragment>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RestaurantsContainer","import React from 'react';\r\nimport 'normalize.css';\r\nimport '../styles/App.scss';\r\nimport RestaurantsForm from './RestaurantsForm';\r\nimport RestaurantsContainer from './RestaurantsContainer';\r\n\r\nfunction App () {\r\n  return (\r\n      <div className='App' data-test=\"component-app\">\r\n        <div className='logo'><img src=\"./assets/images/OpenTable_logo2.png\" alt=\"Open Table Logo\"/></div>\r\n        <h1>Lookup Restaurants by city</h1>\r\n        <RestaurantsForm />\r\n        <RestaurantsContainer />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store/index';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n  <App />\r\n</Provider>,\r\ndocument.getElementById('root')\r\n);"],"sourceRoot":""}