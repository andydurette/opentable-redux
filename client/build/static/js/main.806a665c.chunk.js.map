{"version":3,"sources":["actions/restaurants_actions.js","reducers/restaurantsReducer.js","reducers/restaurantsFilterReducer.js","reducers/rootReducer.js","store/index.js","components/RestaurantsForm.js","components/RestaurantsFilterForm.js","components/RestaurantsContainer.js","components/App.js","index.js"],"names":["actionTypes","fetchRestaurants","val","url","dispatch","type","axios","get","then","response","restaurants","data","payload","catch","error","fetchRestaurantsFailure","message","initialState","loading","restaurantsReducer","state","action","restaurantName","restaurantsFilterReducer","rootReducer","combineReducers","restaurantsFilter","store","createStore","composeWithDevTools","applyMiddleware","thunk","RestaurantsForm","useDispatch","id","data-test","onSubmit","e","preventDefault","city","target","value","restaurantSearch","name","placeholder","restaurantFilter","filterRestaurantsRequest","onChange","RestaurantsContainer","restaurantsData","useSelector","RestaurantsFilterForm","Fragment","undefined","filter","restaurant","rName","toLowerCase","includes","map","className","key","Array","price","i","src","alt","image_url","address","phone","onClick","window","open","reserve_url","App","ReactDOM","render","document","getElementById"],"mappings":"sRAEaA,EACgB,4BADhBA,EAEgB,4BAFhBA,EAGgB,4BAHhBA,EAIQ,oBA0Bd,SAASC,EAAiBC,GAC/B,IAAIC,EAAG,8DAA0DD,GAEjE,OAAO,SAACE,GAIN,OAFAA,EAxBK,CACLC,KAAML,IAyBCM,IAAMC,IAAIJ,GACdK,MAAK,SAAAC,GAtB2B,IAACC,EAuBhCN,GAvBgCM,EAuBCD,EAASE,KAtBzC,CACLN,KAAML,EACNY,QAASF,QAsBNG,OAAM,SAAAC,GAAK,OAlBqB,SAACA,GACtC,MAAO,CACLT,KAAML,EACNY,QAASE,GAeUC,CAAwBD,EAAME,aAO9C,IChDDC,EAAe,CACnBC,SAAS,EACTR,YAAa,GACbI,MAAO,IA0BMK,EAvBY,WAAmC,IAAlCC,EAAiC,uDAAzBH,EAAcI,EAAW,uCAC3D,OAAQA,EAAOhB,MACb,KAAKL,EACH,OAAO,eACFoB,EADL,CAEEF,SAAS,IAEb,KAAKlB,EACH,MAAO,CACLkB,SAAS,EACTR,YAAaW,EAAOT,QACpBE,MAAO,IAEX,KAAKd,EACH,MAAO,CACLkB,SAAS,EACTR,YAAa,GACbI,MAAOO,EAAOT,SAElB,QAAS,OAAOQ,ICzBdH,EAAe,CACnBK,eAAgB,IAaHC,EAVkB,WAAmC,IAAlCH,EAAiC,uDAAzBH,EAAcI,EAAW,uCACjE,OAAQA,EAAOhB,MACb,KAAKL,EACH,MAAO,CACLsB,eAAgBD,EAAOT,SAE3B,QAAS,OAAOQ,ICHLI,EALKC,0BAAgB,CAClCf,YAAaS,EACbO,kBAAmBH,ICINI,EALDC,sBACZJ,EACAK,8BAAoBC,0BAAgBC,O,YCgBvBC,MAnBf,WACE,IAAM5B,EAAW6B,cAUjB,OACI,0BAAMC,GAAG,uBAAuBC,YAAU,yBAAyBC,SAAU,SAACC,GAAD,OAT1D,SAACA,GACtBA,EAAEC,iBACF,IAAIC,EAAOF,EAAEG,OAAOD,KAAKE,MACb,KAATF,GACDnC,EAASH,EAAiBsC,IAK0DG,CAAiBL,KACnG,2BAAOH,GAAG,OAAO7B,KAAK,OAAOsC,KAAK,OAAOC,YAAY,aAAaT,YAAU,iCAC5E,4BAAQ9B,KAAK,SAASoC,MAAM,SAASN,YAAU,iCAA/C,Y,QCEOH,MAhBf,WACE,IAAM5B,EAAW6B,cAEbY,EAAmB,SAACR,GACtBA,EAAEC,iBACF,IAAIhB,EAAiBe,EAAEG,OAAOC,MAC9BrC,ENwCoC,SAACyC,GACvC,MAAO,CACLxC,KAAML,EACNY,QAASiC,GM3CAC,CAAyBxB,KAGpC,OACE,yBAAKY,GAAG,mBAAmBC,YAAU,qBACnC,2BAAOA,YAAU,0BAA0BQ,KAAK,mBAAmBtC,KAAK,OAAOuC,YAAY,wBAAwBG,SAAU,SAACV,GAAD,OAAOQ,EAAiBR,QC6D5IW,MAvEf,WACA,IAAMC,EAAkBC,aAAY,SAAA9B,GAAK,OAAIA,EAAMV,eAC7CY,EAAiB4B,aAAY,SAAA9B,GAAK,OAAIA,EAAMM,kBAAkBJ,kBAElE,OAAK2B,EAAgB/B,QAEjB,yBAAKgB,GAAG,gBAAgBC,YAAU,kBAChC,yBAAKD,GAAG,iCACN,yBAAKA,GAAG,gCACR,6CACA,kBAACiB,EAAD,QAGF,uCAG+B,KAA1BF,EAAgBnC,MAEvB,yBAAKoB,GAAG,gBAAgBC,YAAU,kBAChC,yBAAKD,GAAG,iCACN,yBAAKA,GAAG,gCACR,6CACA,kBAACiB,EAAD,QAIF,4EAKF,yBAAKjB,GAAG,gBAAgBC,YAAU,kBAClC,kBAAC,IAAMiB,SAAP,KACA,yBAAKlB,GAAG,iCACJ,yBAAKA,GAAG,gCACR,6CACA,kBAACiB,EAAD,QAGF,6BAASjB,GAAG,sBAAsBC,YAAU,wBAEzCc,QAA+DI,IAA5CJ,EAAgBvC,YAAYA,aAElDuC,EAAgBvC,YAAYA,YAAY4C,QAAO,SAACC,GAC9C,IAAIC,EAAQlC,EAAemC,cAC3B,OAAOF,EAAWZ,KAAKc,cAAcC,SAASF,MAC7CG,KAAI,SAACjD,GAAD,OACH,yBAAKkD,UAAU,iBAAiBC,IAAKnD,EAAYwB,IAC/C,yBAAK0B,UAAU,YACd,YAAIE,MAAMpD,EAAYqD,QAAQJ,KAAI,SAACtB,EAAG2B,GACrC,OAAO,yBAAKH,IAAKG,EAAGC,IAAI,uCAAuCC,IAAI,SAGvE,yBAAKD,IAAKvD,EAAYyD,UAAWD,IAAI,KACnC,yBAAKN,UAAU,QACb,4BAAKlD,EAAYiC,MACjB,uCAAajC,EAAY0D,SACzB,qCAAW1D,EAAY2D,OAEvB,4BAAQC,QAAU,kBAAMC,OAAOC,KAAP,UAAe9D,EAAY+D,aAAc,YAAjE,oBC/CDC,MAXf,WACE,OACI,yBAAKd,UAAU,MAAMzB,YAAU,iBAC7B,yBAAKyB,UAAU,QAAO,yBAAKK,IAAI,sCAAsCC,IAAI,qBACzE,0DACA,kBAAC,EAAD,MACA,kBAAC,EAAD,QCNRS,IAASC,OACT,kBAAC,IAAD,CAAUjD,MAAOA,GACf,kBAAC,EAAD,OAEFkD,SAASC,eAAe,W","file":"static/js/main.806a665c.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nexport const actionTypes = {\r\n  FETCH_RESTAURANTS_REQUEST: 'FETCH_RESTAURANTS_REQUEST',\r\n  FETCH_RESTAURANTS_SUCCESS: 'FETCH_RESTAURANTS_SUCCESS',\r\n  FETCH_RESTAURANTS_FAILURE: 'FETCH_RESTAURANTS_FAILURE',\r\n  FILTER_RESTAURANT: 'FILTER_RESTAURANT'\r\n};\r\n\r\n\r\n/***********  Thunk actions for API call ***************/\r\n\r\nexport const fetchRestaurantsRequest = () => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_REQUEST\r\n  }\r\n}\r\n\r\nexport const fetchRestaurantsSuccess = (restaurants) => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_SUCCESS,\r\n    payload: restaurants\r\n  }\r\n}\r\n\r\nexport const fetchRestaurantsFailure = (error) => {\r\n  return {\r\n    type: actionTypes.FETCH_RESTAURANTS_FAILURE,\r\n    payload: error\r\n  }\r\n}\r\n\r\nexport function fetchRestaurants(val){\r\n  var url = `http://opentable.herokuapp.com/api/restaurants?city=${val}`;\r\n  // Returns a function so that it doesn't have to be a pure function allowing asynconisity\r\n  return (dispatch) => {\r\n    // Sets loading screen until pass or failure is determined\r\n    dispatch(fetchRestaurantsRequest());\r\n    // Runs data call\r\n    return axios.get(url)\r\n      .then(response => {\r\n        dispatch(fetchRestaurantsSuccess(response.data))\r\n        })\r\n      .catch(error =>  fetchRestaurantsFailure(error.message));\r\n  }\r\n}\r\n\r\n\r\n/***********  Restaurant filter actions  ***************/\r\n\r\nexport const filterRestaurantsRequest = (restaurantFilter) => {\r\n  return {\r\n    type: actionTypes.FILTER_RESTAURANT,\r\n    payload: restaurantFilter\r\n  }\r\n}","import {actionTypes} from '../actions/restaurants_actions'\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  restaurants: [],\r\n  error: ''\r\n}\r\n\r\nconst restaurantsReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FETCH_RESTAURANTS_REQUEST:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      }\r\n    case actionTypes.FETCH_RESTAURANTS_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        restaurants: action.payload,\r\n        error: ''\r\n      }\r\n    case actionTypes.FETCH_RESTAURANTS_FAILURE:\r\n      return {\r\n        loading: false,\r\n        restaurants: [],\r\n        error: action.payload\r\n      }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport default restaurantsReducer","import {actionTypes} from '../actions/restaurants_actions'\r\n\r\nconst initialState = {\r\n  restaurantName: '' ,\r\n}\r\n\r\nconst restaurantsFilterReducer = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case actionTypes.FILTER_RESTAURANT:\r\n      return {\r\n        restaurantName: action.payload\r\n      }\r\n    default: return state\r\n  }\r\n}\r\n\r\nexport default restaurantsFilterReducer","import { combineReducers } from 'redux';\r\nimport restaurantsReducer from './restaurantsReducer';\r\nimport restaurantsFilterReducer from './restaurantsFilterReducer';\r\n\r\nconst rootReducer = combineReducers({\r\n  restaurants: restaurantsReducer,\r\n  restaurantsFilter: restaurantsFilterReducer\r\n})\r\n\r\nexport default rootReducer\r\n","import { createStore, applyMiddleware } from 'redux'\r\nimport { composeWithDevTools } from 'redux-devtools-extension'\r\nimport thunk from 'redux-thunk'\r\nimport rootReducer from '../reducers/rootReducer'\r\n\r\nconst store = createStore(\r\n  rootReducer,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n)\r\n\r\nexport default store\r\n","import React from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport { fetchRestaurants } from '../actions/restaurants_actions';\r\n\r\nfunction RestaurantsForm () {;\r\n  const dispatch = useDispatch();\r\n\r\n  let restaurantSearch = (e) =>{\r\n    e.preventDefault();\r\n    let city = e.target.city.value;\r\n    if(city !== ''){\r\n      dispatch(fetchRestaurants(city));;\r\n    }\r\n  }\r\n\r\n  return (\r\n      <form id='restaurantSearchForm' data-test=\"restaurant-search-form\" onSubmit={(e) => restaurantSearch(e)}>\r\n        <input id=\"city\" type=\"text\" name=\"city\" placeholder=\"Enter city\" data-test=\"restaurant-search-form-input\" />\r\n        <button type=\"submit\" value=\"Submit\" data-test=\"restaurant-search-form-button\">Search</button>\r\n      </form>\r\n        )\r\n}\r\n\r\nexport default RestaurantsForm","import React from 'react';\r\nimport { useDispatch} from 'react-redux';\r\nimport { filterRestaurantsRequest } from '../actions/restaurants_actions';\r\n\r\nfunction RestaurantsForm () {;\r\n  const dispatch = useDispatch();\r\n\r\n  let restaurantFilter = (e) =>{\r\n    e.preventDefault();\r\n    let restaurantName = e.target.value;\r\n    dispatch(filterRestaurantsRequest(restaurantName));\r\n  }\r\n\r\n  return (\r\n    <div id=\"restaurantFilter\" data-test=\"restaurant-filter\">\r\n      <input data-test=\"restaurant-filter-input\" name=\"restaurantFilter\" type=\"text\" placeholder=\"Enter restaurant name\" onChange={(e) => restaurantFilter(e)}/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default RestaurantsForm","import React from 'react';\r\nimport {useSelector} from 'react-redux';\r\nimport RestaurantsFilterForm from './RestaurantsFilterForm';\r\n\r\n\r\nfunction RestaurantsContainer () {\r\nconst restaurantsData = useSelector(state => state.restaurants);\r\nconst restaurantName = useSelector(state => state.restaurantsFilter.restaurantName);\r\n\r\n  if ( restaurantsData.loading ) {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n        <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <p>Filter Results</p>\r\n          <RestaurantsFilterForm />\r\n          </div>\r\n        </div>\r\n        <p>Loading</p>\r\n      </div>\r\n    )\r\n  }else if ( restaurantsData.error !== \"\" ) {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n        <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <p>Filter Results</p>\r\n          <RestaurantsFilterForm />\r\n          </div>\r\n        </div>\r\n        {/*<p>{restaurantsData.error}</p>*/}\r\n        <p>Service encountered an error try again later</p>\r\n      </div>\r\n    )\r\n  }else {\r\n    return (\r\n      <div id=\"restaurantBox\" data-test=\"restaurant-box\">\r\n      <React.Fragment>\r\n      <div id=\"restaurantFilterOutterWrapper\">\r\n          <div id=\"restaurantFilterInnerWrapper\">\r\n          <p>Filter Results</p>\r\n          <RestaurantsFilterForm  />\r\n          </div>\r\n        </div>\r\n        <section id=\"restaurantContainer\" data-test=\"restaurant-container\">\r\n          \r\n          {restaurantsData && restaurantsData.restaurants.restaurants !== undefined &&\r\n        \r\n        restaurantsData.restaurants.restaurants.filter((restaurant) => {\r\n          let rName = restaurantName.toLowerCase();\r\n          return restaurant.name.toLowerCase().includes(rName)\r\n        }).map((restaurants) => (\r\n            <div className=\"restaurantItem\" key={restaurants.id}>\r\n              <div className=\"priceBox\">\r\n              {[...Array(restaurants.price)].map((e, i) => {\r\n                return <img key={i} src=\"./assets/images/dollarSignActive.svg\" alt=\"\"/>\r\n              })}\r\n              </div>\r\n            <img src={restaurants.image_url} alt=\"\"/>\r\n              <div className=\"info\">\r\n                <h3>{restaurants.name}</h3> \r\n                <p>Address: {restaurants.address}</p>\r\n                <p>Phone: {restaurants.phone}</p>\r\n                \r\n                <button onClick={ () => window.open(`${restaurants.reserve_url}`,'_blank') }>Reserve</button>\r\n              </div>\r\n            </div>\r\n            ))}\r\n            \r\n        </section>\r\n      </React.Fragment>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default RestaurantsContainer","import React from 'react';\r\nimport 'normalize.css';\r\nimport '../styles/App.scss';\r\nimport RestaurantsForm from './RestaurantsForm';\r\nimport RestaurantsContainer from './RestaurantsContainer';\r\n\r\nfunction App () {\r\n  return (\r\n      <div className='App' data-test=\"component-app\">\r\n        <div className='logo'><img src=\"./assets/images/OpenTable_logo2.png\" alt=\"Open Table Logo\"/></div>\r\n        <h1>Lookup Restaurants by city</h1>\r\n        <RestaurantsForm />\r\n        <RestaurantsContainer />\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport store from './store/index';\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n  <App />\r\n</Provider>,\r\ndocument.getElementById('root')\r\n);"],"sourceRoot":""}