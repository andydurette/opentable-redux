(this["webpackJsonpopen-table-redux"]=this["webpackJsonpopen-table-redux"]||[]).push([[0],{23:function(e,t,a){e.exports=a(53)},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(4),u=a.n(l),c=a(2),i=a(3),s=a(18),o=a(19),m=a(22),d=a(20),p=a.n(d),E="FETCH_RESTAURANTS_REQUEST",v="FETCH_RESTAURANTS_SUCCESS",f="FETCH_RESTAURANTS_FAILURE",b="FILTER_RESTAURANT";function g(e){var t="https://opentable.herokuapp.com/api/restaurants?city=".concat(e);return function(e){return e({type:E}),p.a.get(t).then((function(t){var a;e((a=t.data,{type:v,payload:a}))})).catch((function(e){return function(e){return{type:f,payload:e}}(e.message)}))}}var h={loading:!1,restaurants:[],error:""},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(m.a)({},e,{loading:!0});case v:return{loading:!1,restaurants:t.payload,error:""};case f:return{loading:!1,restaurants:[],error:t.payload};default:return e}},F={restaurantName:""},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{restaurantName:t.payload};default:return e}},R=Object(i.combineReducers)({restaurants:y,restaurantsFilter:S}),T=Object(i.createStore)(R,Object(s.composeWithDevTools)(Object(i.applyMiddleware)(o.a)));a(51),a(52);var O=function(){var e=Object(c.b)();return n.a.createElement("form",{id:"restaurantSearchForm","data-test":"restaurant-search-form",onSubmit:function(t){return function(t){t.preventDefault();var a=t.target.city.value;""!==a&&e(g(a))}(t)}},n.a.createElement("label",{htmlFor:"city",className:"visuallyhidden"},"Search: "),n.a.createElement("input",{type:"text",name:"city",id:"city",placeholder:"Enter city","data-test":"restaurant-search-form-input"}),n.a.createElement("button",{type:"submit","data-test":"restaurant-search-form-button"},"Search"))},N=a(21);var A=function(){var e=Object(c.b)(),t=function(t){t.preventDefault();var a=t.target.value;e(function(e){return{type:b,payload:e}}(a))};return n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"Filter Results:"),n.a.createElement("div",{id:"restaurantFilter","data-test":"restaurant-filter",onSubmit:function(e){return function(e){e.preventDefault()}(e)}},n.a.createElement("form",null,n.a.createElement("label",{htmlFor:"filter",className:"visuallyhidden"},"Filter Results:"),n.a.createElement("input",{id:"filter",name:"filter","data-test":"restaurant-filter-input",type:"text",placeholder:"Enter restaurant name",onChange:function(e){return t(e)}}))))};var x=function(){var e=Object(c.c)((function(e){return e.restaurants})),t=Object(c.c)((function(e){return e.restaurantsFilter.restaurantName}));return e.loading?n.a.createElement("div",{id:"restaurantBox","data-test":"restaurant-box"},n.a.createElement("div",{id:"restaurantFilterOutterWrapper"},n.a.createElement("div",{id:"restaurantFilterInnerWrapper"},n.a.createElement(A,null))),n.a.createElement("p",null,"Loading")):""!==e.error?n.a.createElement("div",{id:"restaurantBox","data-test":"restaurant-box"},n.a.createElement("div",{id:"restaurantFilterOutterWrapper"},n.a.createElement("div",{id:"restaurantFilterInnerWrapper"},n.a.createElement(A,null))),n.a.createElement("p",null,"Service encountered an error try again later")):n.a.createElement("div",{id:"restaurantBox","data-test":"restaurant-box"},n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{id:"restaurantFilterOutterWrapper"},n.a.createElement("div",{id:"restaurantFilterInnerWrapper"},n.a.createElement(A,null))),n.a.createElement("section",{id:"restaurantContainer","data-test":"restaurant-container"},e&&void 0!==e.restaurants.restaurants&&e.restaurants.restaurants.filter((function(e){var a=t.toLowerCase();return e.name.toLowerCase().includes(a)})).map((function(e){return n.a.createElement("div",{className:"restaurantItem",key:e.id},n.a.createElement("div",{className:"priceBox"},Object(N.a)(Array(e.price)).map((function(e,t){return n.a.createElement("img",{key:t,src:"./assets/images/dollarSignActive.svg",alt:""})}))),n.a.createElement("img",{src:e.image_url,alt:""}),n.a.createElement("div",{className:"info"},n.a.createElement("h3",null,e.name),n.a.createElement("p",null,"Address: ",e.address),n.a.createElement("p",null,"Phone: ",e.phone),n.a.createElement("button",{onClick:function(){return window.open("".concat(e.reserve_url),"_blank")}},"Reserve")))})))))};var _=function(){return n.a.createElement("div",{className:"App","data-test":"component-app"},n.a.createElement("div",{className:"logo"},n.a.createElement("img",{src:"./assets/images/OpenTable_logo2.png",alt:"Open Table Logo"})),n.a.createElement("h1",null,"Lookup Restaurants by city"),n.a.createElement(O,null),n.a.createElement(x,null))};u.a.render(n.a.createElement(c.a,{store:T},n.a.createElement(_,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.3366aa65.chunk.js.map